<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:dialog 
		header="Imposta password" 
		widgetVar="changePasswordDialog" 
		modal="true"
		showEffect="fade" 
		hideEffect="fade"> 

		<h:form id="changePasswordForm">
					
			<p:messages globalOnly="false" showSummary="false" showDetail="true" closable="true"/>
			
			<p:panelGrid styleClass="form-panel">
							
				<p:row>
					<p:column colspan="2" styleClass="form-header">
						<h:outputText value="
							Il pannello permette assegnare una nuova password all'utente
							selezionato."/>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column>
						<p:outputLabel for="password" value="Password:" />
					</p:column>
					<p:column>
						<p:password value="#{gestioneUtenti.password}" id="password"
							required="true" requiredMessage="Il campo password è obbligatorio"
							feedback="true" inline="false"
							promptLabel="Immettere la password"
							weakLabel="Password debole" 
							goodLabel="Password accettabile" 
							strongLabel="Password forte"/>
						<p:watermark for="password" value="Immettere la password" />
					</p:column>
				</p:row>
				
				<p:row>
					<p:column>
						<p:outputLabel for="confirmPassword" value="Conferma password:" />
					</p:column>
					<p:column>
						<p:password value="#{gestioneUtenti.confirmPassword}" id="confirmPassword"
							required="true" requiredMessage="La conferma della password è obbligatoria"
							feedback="true" inline="false"
							promptLabel="Immettere la password"
							weakLabel="Password debole" 
							goodLabel="Password accettabile" 
							strongLabel="Password forte"/>
						<p:watermark for="confirmPassword" value="Confermare la password" />
					</p:column>
				</p:row>
				
				<p:row>
					<p:column colspan="2" styleClass="form-footer">
						<p:commandButton value="Cambia"
							actionListener="#{gestioneUtenti.doChangePassword}" 
							update="@form,:form" 
							oncomplete="if(args.ok) { changePasswordDialog.hide(); }"/>
						<p:commandButton value="Annulla"
							oncomplete="changePasswordDialog.hide();" />
					</p:column>
				</p:row>
				
			</p:panelGrid>
			
		</h:form>

	</p:dialog>

</html>