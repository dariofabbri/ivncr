<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:dialog 
		header="Modifica utente" 
		widgetVar="updateDialog" 
		modal="true"
		showEffect="fade" 
		hideEffect="fade"> 

		<h:form id="updateForm">
		
			<p:messages globalOnly="true" autoUpdate="true" showDetail="true"/>
		
			<h:panelGrid columns="4" cellpadding="5" id="wrapper">

				<p:outputLabel for="matricola" value="Matricola:" />
				<p:inputText value="#{userManagement.selected.matricola}" id="matricola"
					validator="matricolaValidator" 
					required="true" requiredMessage="Il campo è obbligatorio"
					readonly="true"
					style="width: 250px;"/>
				<p:watermark for="matricola" value="Immettere il numero di matricola" />  
				<p:message for="matricola" showSummary="true" showDetail="false"/>

				<p:outputLabel for="username" value="Username:" />
				<p:inputText value="#{userManagement.selected.username}" id="username"
					required="true" requiredMessage="Il campo è obbligatorio"
					style="width: 250px;"/>
				<p:watermark for="username" value="Immettere lo username" />
				<p:message for="username" showSummary="true" showDetail="false"/>

				<p:outputLabel for="nome" value="Nome:" />
				<p:inputText value="#{userManagement.selected.nome}" id="nome"
					required="true" requiredMessage="Il campo è obbligatorio"
					style="width: 250px;"/>
				<p:watermark for="nome" value="Immettere il nome" />
				<p:message for="nome" showSummary="true" showDetail="false"/>

				<p:outputLabel for="cognome" value="Cognome:" />
				<p:inputText value="#{userManagement.selected.cognome}" id="cognome"
					required="true" requiredMessage="Il campo è obbligatorio"
					style="width: 250px;"/>
				<p:watermark for="cognome" value="Immettere il cognome" />
				<p:message for="cognome" showSummary="true" showDetail="false"/>

				<p:outputLabel for="tipoAccount" value="Tipo account:" />
				<p:selectOneMenu value="#{userManagement.selected.tipoAccount}" id="tipoAccount"
					required="true" requiredMessage="Il campo è obbligatorio"
					style="width: 250px;">
		            <f:selectItem itemLabel="Selezionare un tipo" itemValue="" />  
		            <f:selectItem itemLabel="Utente" itemValue="Utente" />  
		            <f:selectItem itemLabel="Capoturno" itemValue="Capoturno" />  
		            <f:selectItem itemLabel="Amministratore" itemValue="Amministratore" />  
		        </p:selectOneMenu>  
				<p:watermark for="tipoAccount" value="Selezionare un valore" />
				<p:message for="tipoAccount" showSummary="true" showDetail="false"/>


				<f:facet name="footer">
					<p:commandButton value="Aggiorna"
						actionListener="#{userManagement.doUpdate}"
						oncomplete="if(args.ok) {window.location.reload()}"/>

					<p:commandButton value="Annulla"
						oncomplete="updateDialog.hide();" />
				</f:facet>
				
			</h:panelGrid>
			
		</h:form>

	</p:dialog>

</html>