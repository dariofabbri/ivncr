<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<p:dialog 
		header="Nuovo permesso" 
		widgetVar="createDialog" 
		modal="true"
		showEffect="fade" 
		hideEffect="fade"> 

		<h:form id="createForm">
					
			<p:messages globalOnly="false" showSummary="false" showDetail="true" closable="true"/>
			
			<p:panelGrid styleClass="form-panel">
							
				<p:row>
					<p:column colspan="2" styleClass="form-header">
						<h:outputText value="
							Il pannello permette di creare un nuovo permesso, 
							ovvero l'identificativo univoco di una operazione controllata 
							sul sistema. I permessi possono essere combinati in ruoli 
							per creare profili di accesso personalizzati per ciascuna 
							tipologia di utenza."/>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column>
						<p:outputLabel for="permesso" value="Permesso:" />
					</p:column>
					<p:column>
						<p:inputText value="#{gestionePermessi.permesso}" id="permesso"
							required="true" requiredMessage="Il campo permesso Ã¨ obbligatorio"/>
						<p:watermark for="permesso" value="Identificativo del permesso" />
					</p:column>
				</p:row>  

				<p:row>
					<p:column>
						<p:outputLabel for="descrizione" value="Descrizione:" />
					</p:column>
					<p:column>
						<p:inputText value="#{gestionePermessi.descrizione}" id="descrizione"/>
						<p:watermark for="descrizione" value="Descrizione opzionale" />
					</p:column>
				</p:row>

				<p:row>
					<p:column colspan="2" styleClass="form-footer">
						<p:commandButton value="Crea"
							actionListener="#{gestionePermessi.doCreate}" 
							update="@form,:form" 
							oncomplete="if(args.ok) { createDialog.hide(); }"/>
						<p:commandButton value="Annulla"
							oncomplete="createDialog.hide();" />
					</p:column>
				</p:row>
				
			</p:panelGrid>
			
		</h:form>

	</p:dialog>

</html>