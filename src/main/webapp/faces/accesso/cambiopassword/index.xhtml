<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/WEB-INF/templates/main.xhtml">
		
		<ui:define name="container">
			
			<p:panel id="changePasswordPanel"
				header="Cambio password" 
				toggleable="true" 
				toggleSpeed="500"
				style="width: 700px; margin-left: auto; margin-right: auto; margin-top: 100px;">
			
				<h:form>
					
					<p:messages globalOnly="false" showSummary="false" showDetail="true" closable="true"/>
					
					<p:focus />
					
					<p:panelGrid styleClass="form-panel">
										
			       		<p:row>
			       			<p:column colspan="2" styleClass="form-header">
								<h:outputText value="Immettere e confermare la nuova password."/>
							</p:column>
						</p:row>
									
						<p:row>		
							<p:column>						
								<p:outputLabel for="password" value="Password:" />
							</p:column>
							<p:column>
								<p:password value="#{cambioPassword.password}" id="password"
									required="true" requiredMessage="Il campo password è obbligatorio"
									feedback="true" inline="false"
									redisplay="true"
									promptLabel="Immettere la password"
									weakLabel="Password debole" 
									goodLabel="Password accettabile" 
									strongLabel="Password forte" />
								<p:watermark for="password" value="Password iniziale di accesso" />
							</p:column>
						</p:row>
						
						<p:row>
							<p:column>										
								<p:outputLabel for="confirmPassword" value="Conferma:" />
							</p:column>
							<p:column>
								<p:password value="#{cambioPassword.confirmPassword}" id="confirmPassword"
									required="true" requiredMessage="La conferma della password è obbligatoria"
									feedback="true" inline="false"
									redisplay="true"
									promptLabel="Confermare la password"
									weakLabel="Password debole" 
									goodLabel="Password accettabile" 
									strongLabel="Password forte" />
								<p:watermark for="confirmPassword" value="Confermare la password" />
							</p:column>
						</p:row>
	
						<p:row>
							<p:column colspan="2">
								<p:commandButton value="Salva"
									actionListener="#{cambioPassword.doChangePassword}"
									update="@form"/>
							</p:column>
						</p:row>

					</p:panelGrid>
				
				</h:form>
										
			</p:panel>
		
		</ui:define>
		
	</ui:composition>

</html>