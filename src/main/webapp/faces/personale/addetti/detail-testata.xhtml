<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
	
	<p:panelGrid styleClass="multi-col-layout" id="testataPanel">
		
		<p:row>
			
			<p:column>
	
				<p:panelGrid styleClass="form-panel">
					
					<p:row>
						<p:column>
							<p:outputLabel for="matricola" value="Matricola:" />
						</p:column>
						<p:column>
							<p:inputText value="#{dettaglioAddettoGenerale.matricola}" id="matricola"
								required="true" requiredMessage="Il campo codice è obbligatorio"
								validator="matricolaAddettoValidator" validatorMessage="La matricola dell'addetto non rispetta la struttura ammessa (nnnnn dove n è una cifra tra 0 e 9)"
								disabled="true"/>
							<p:watermark for="matricola" value="Matricola dell\'addetto" />  
							<p:tooltip for="matricola" showEffect="fade" value="La matricola rappresenta univocamente l'addetto" />
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>							
							<p:outputLabel for="nome" value="Nome:" />
						</p:column>
						<p:column>
							<p:inputText value="#{dettaglioAddettoGenerale.nome}" id="nome"
								required="true" requiredMessage="Il campo nome è obbligatorio"/>
							<p:watermark for="nome" value="Nome dell\'addetto" />  
							<p:tooltip for="nome" showEffect="fade" value="Campo nome dell'addetto" />
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>							
							<p:outputLabel for="cognome" value="Cognome:" />
						</p:column>
						<p:column>
							<p:inputText value="#{dettaglioAddettoGenerale.cognome}" id="cognome"
								required="true" requiredMessage="Il campo cognome è obbligatorio"/>
							<p:watermark for="cognome" value="Cognome dell\'addetto" />  
							<p:tooltip for="cognome" showEffect="fade" value="Campo cognome dell'addetto" />
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>							
							<p:outputLabel for="dataNascita" value="Data di nascita:" />
						</p:column>
						<p:column>
							<p:calendar value="#{dettaglioAddettoGenerale.dataNascita}" id="dataNascita"
								required="true" requiredMessage="Il campo data di nascita è obbligatorio"
								pattern="dd/MM/yyyy"/>
							<p:watermark for="dataNascita" value="Data di nascita dell\'addetto" />  
							<p:tooltip for="dataNascita" showEffect="fade" value="Campo data di nascita dell'addetto" />
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>							
							<p:outputLabel for="luogoNascita" value="Luogo di nascita:" />
						</p:column>
						<p:column>
							<p:inputText value="#{dettaglioAddettoGenerale.luogoNascita}" id="luogoNascita"
								required="true" requiredMessage="Il campo luogo di nascita è obbligatorio"/>
							<p:watermark for="luogoNascita" value="Luogo di nascita dell\'addetto" />  
							<p:tooltip for="luogoNascita" showEffect="fade" value="Campo luogo di nascita dell'addetto" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<p:outputLabel for="codiceFiscale" value="Codice fiscale:" />
						</p:column>
						<p:column>
							<p:inputText value="#{dettaglioAddettoGenerale.codiceFiscale}" id="codiceFiscale"
								validator="codiceFiscaleValidator" validatorMessage="Il codice fiscale inserito non è valido"/>
							<p:watermark for="codiceFiscale" value="Codice fiscale dell\'addetto" />  
							<p:tooltip for="codiceFiscale" showEffect="fade" value="Codice fiscale dell'addetto" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<p:outputLabel for="sesso" value="Sesso:" />
						</p:column>
						<p:column>
							<p:selectOneMenu
								required="true" 
								requiredMessage="Il campo sesso è obbligatorio"
								id="sesso" 
								value="#{dettaglioAddettoGenerale.sesso}"
								effect="fade">
								<f:selectItem itemLabel="Selezionare un sesso" itemValue="" />
								<f:selectItem itemLabel="Maschile" itemValue="M" />
								<f:selectItem itemLabel="Femminile" itemValue="F" />
							</p:selectOneMenu>	
							<p:tooltip for="sesso" showEffect="fade" value="Sesso dell'addetto" />
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<p:outputLabel for="codiceStatoCivile" value="Stato civile:" />
						</p:column>
						<p:column>
							<p:selectOneMenu
								required="true" 
								requiredMessage="Il campo stato civile è obbligatorio"
								id="codiceStatoCivile" 
								value="#{dettaglioAddettoGenerale.codiceStatoCivile}"
								effect="fade">
								<f:selectItem itemLabel="Selezionare uno stato civile" itemValue="" />
								<f:selectItems 
									value="#{dettaglioAddettoGenerale.listStatoCivile}" var="item"
									itemLabel="#{item.descrizione}" itemValue="#{item.id}" />
							</p:selectOneMenu>			 		 
							<p:tooltip for="codiceStatoCivile" showEffect="fade" value="Stato civile dell'addetto" />
						</p:column>
					</p:row>	
					
					<p:row>
						<p:column>							
							<p:outputLabel for="dataGiuramento" value="Data giuramento:" />
						</p:column>
						<p:column>
							<p:calendar value="#{dettaglioAddettoGenerale.dataGiuramento}" id="dataGiuramento"
								locale="it" pattern="dd/MM/yyyy"/>
							<p:watermark for="dataGiuramento" value="Data del giuramento dell\'addetto" />  
							<p:tooltip for="dataGiuramento" showEffect="fade" value="Data del giuramento come G.P.G. dell'addetto" />
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>							
							<p:outputLabel for="fittizio" value="Fittizio:" />
						</p:column>
						<p:column>
							<p:selectBooleanCheckbox value="#{dettaglioAddettoGenerale.fittizio}" id="fittizio"/>
							<p:tooltip for="fittizio" showEffect="fade" value="Indica un addetto fittizio" />
						</p:column>
					</p:row>

				</p:panelGrid>
				
			</p:column>
			
			<p:column rendered="#{not empty dettaglioAddettoGenerale.id}">							
		
				<p:panelGrid styleClass="form-panel">
				
					<p:row>
					
						<p:column>
							
							<p:fieldset 
								id="fotoAddetto" 
								legend="Fotografia" 
								collapsed="false" 
								toggleable="true" 
								toggleSpeed="500"> 
					
								<p:panelGrid styleClass="form-panel">
								
									<p:row>
										<p:column>
											<c:if test="#{empty dettaglioAddettoFoto.current}">
												<p:graphicImage name="img/image-not-present.jpg" library="default"/>
											</c:if>
											<c:if test="#{not empty dettaglioAddettoFoto.current}">
												<p:graphicImage value="#{dettaglioAddettoFoto.current}"/>
											</c:if>
										</p:column>
									</p:row>
								
								</p:panelGrid>
								
							</p:fieldset>
							
						</p:column>
					
					</p:row>
					
				</p:panelGrid>
				
			</p:column>
			
		</p:row>
		
		<p:row>
		
			<p:column colspan="2" styleClass="form-footer">
				<p:commandButton
					id="saveButton"
					value="Salva"
					actionListener="#{dettaglioAddettoGenerale.doSave}"
					update="@form"
					process="testataPanel"
					icon="ui-icon-star"/>
				<p:tooltip 
					for="saveButton" 
					value="Salva i dati dell\'addetto" 
					showEffect="fade" 
					hideEffect="fade"/>
			</p:column>
			
		</p:row>

	</p:panelGrid>
	
</html>