<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<f:subview id="createContattoView">
		
		<p:dialog
			id="createContattoDialog"
			header="Nuovo contatto" 
			widgetVar="createContattoDialogWidget" 
			modal="true"
			showEffect="fade" 
			hideEffect="fade"> 
		
			<p:messages globalOnly="false" showSummary="false" showDetail="true" severity="error" closable="true"/>
	
			<p:panelGrid styleClass="form-panel">

				<p:row>
					<p:column>
						<p:outputLabel for="codiceTipoContatto" value="Tipo contatto:" />
					</p:column>
					<p:column>
						<p:selectOneMenu
							required="true" 
							requiredMessage="Il campo tipo contatto è obbligatorio"
							id="codiceTipoContatto" 
							value="#{dettaglioClienteContatti.codiceTipoContatto}"
							effect="fade">
							<f:selectItem itemLabel="Selezionare un tipo" itemValue="" />
							<f:selectItems 
								value="#{dettaglioClienteContatti.listTipoContatto}" var="item"
								itemLabel="#{item.descrizione}" itemValue="#{item.id}" />
						</p:selectOneMenu>	
						<p:tooltip for="codiceTipoContatto" showEffect="fade" value="Tipo contatto" />
					</p:column>
				</p:row>
	
				<p:row>
					<p:column>				
						<p:outputLabel for="titolo" value="Titolo:" />
					</p:column>
					<p:column>
						<p:inputText value="#{dettaglioClienteContatti.titolo}" id="titolo"/>
						<p:watermark for="titolo" value="Titolo da premettere al nome del contatto" />  
						<p:tooltip for="titolo" showEffect="fade" value="Titolo del contatto" />
					</p:column>
				</p:row>
	
				<p:row>
					<p:column>				
						<p:outputLabel for="nome" value="Nome:" />
					</p:column>
					<p:column>
						<p:inputText value="#{dettaglioClienteContatti.nome}" id="nome"
							required="true" requiredMessage="Il campo nome è obbligatorio"/>
						<p:watermark for="nome" value="Nome e cognome del contatto" />  
						<p:tooltip for="nome" showEffect="fade" value="Nome e cognome del contatto" />
					</p:column>
				</p:row>
		
				<p:row>
					<p:column>		
						<p:outputLabel for="telefono1" value="Telefono 1:" />
					</p:column>
					<p:column>
						<p:inputText value="#{dettaglioClienteContatti.telefono1}" id="telefono1"
							validator="phoneValidator" validatorMessage="Il numero immesso come contatto telefonico principale non è valido"/>
						<p:watermark for="telefono1" value="Primo riferimento telefonico del contatto" />  
						<p:tooltip for="telefono1" showEffect="fade" value="Primo riferimento telefonico del contatto" />
					</p:column>
				</p:row>
				
				<p:row>
					<p:column>
						<p:outputLabel for="telefono2" value="Telefono 2:" />
					</p:column>
					<p:column>
						<p:inputText value="#{dettaglioClienteContatti.telefono2}" id="telefono2"
							validator="phoneValidator" validatorMessage="Il numero immesso come contatto telefonico alternativo non è valido"/>
						<p:watermark for="telefono2" value="Riferimento telefonico alternativo del contatto"/>
						<p:tooltip for="telefono2" showEffect="fade" value="Riferimento telefonico alternativo del contatto" />
					</p:column>
				</p:row>
	
				<p:row>
					<p:column>
						<p:outputLabel for="cellulare" value="Cellulare:" />
					</p:column>
					<p:column>
						<p:inputText value="#{dettaglioClienteContatti.cellulare}" id="cellulare"
							validator="phoneValidator" validatorMessage="Il numero di cellulare inserito non è valido"/>
						<p:watermark for="cellulare" value="Riferimento telefonico cellulare del contatto" />  
						<p:tooltip for="cellulare" showEffect="fade" value="Riferimento telefonico cellulare del contatto" />
					</p:column>
				</p:row>
	
				<p:row>
					<p:column>
						<p:outputLabel for="fax" value="Fax:" />
					</p:column>
					<p:column>
						<p:inputText value="#{dettaglioClienteContatti.fax}" id="fax"
							validator="phoneValidator" validatorMessage="Il numero di fax inserito non è valido"/>
						<p:watermark for="fax" value="Numero di fax del contatto" />  
						<p:tooltip for="fax" showEffect="fade" value="Numero di fax del contatto" />
					</p:column>
				</p:row>
	
				<p:row>
					<p:column>
						<p:outputLabel for="email" value="E-mail:" />
					</p:column>
					<p:column>
						<p:inputText value="#{dettaglioClienteContatti.email}" id="email"
							validator="emailValidator" validatorMessage="L'indirizzo di posta elettronica inserito non è valido"/>
						<p:watermark for="email" value="Email del contatto" />  
						<p:tooltip for="email" showEffect="fade" value="Email del contatto" />
					</p:column>
				</p:row>
			
				<p:row>
					<p:column colspan="2" styleClass="form-footer">

						<p:commandButton value="Crea"
							actionListener="#{dettaglioClienteContatti.doCreate}"
							process="createContattoView" 
							update=":detailForm:tabView:contattiTab,:detailForm:growl" 
							oncomplete="if(args.ok) { createContattoDialogWidget.hide(); }"/>
		
						<p:commandButton value="Annulla"
							oncomplete="createContattoDialogWidget.hide();" />

					</p:column>
				</p:row>
									
			</p:panelGrid>
	
		</p:dialog>
		
	</f:subview>

</html>