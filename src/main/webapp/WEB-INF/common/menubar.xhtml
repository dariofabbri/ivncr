<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:mytags="http://java.sun.com/jsf/composite/mytags"
	xmlns:p="http://primefaces.org/ui">
	
	<h:form>
	
		<p:growl id="menubarGrowl" globalOnly="false" showSummary="false" showDetail="true" life="3000"/>
		
		<p:menubar model="#{menuBar.menuModel}">
	        
	        <f:facet name="options">
	        
	        	<h:panelGrid columns="3">
	        	
					<p:inplace 
						id="selectableInplaceAzienda" 
						label="#{loginInfo.azienda.codice} - #{loginInfo.azienda.descrizione}"
						style="#{loginInfo.azienda.stile}"
						effectSpeed="fast" >
						  
						<p:selectOneMenu
							id="codiceGruppoCliente" 
							value="#{loginInfo.codiceAzienda}"
							effect="fade"
							style="width: 150px;">
							
							<p:ajax 
								process="@this" 
								update="selectableInplaceAzienda, menubarGrowl"
								listener="#{loginInfo.doSelectAzienda}" />
							
							<f:selectItems 
									value="#{loginInfo.listAziende}" var="item"
									itemLabel="#{item.codice}" itemValue="#{item.id}" />

						</p:selectOneMenu>		        		
						  
					</p:inplace>

					<p:spacer width="20px"/>

					<p:commandButton 
						value="Logout" 
						icon="ui-icon-extlink"
						action="#{loginInfo.doLogoff}" />
	        	
	        	</h:panelGrid>
								
			</f:facet>  

	    </p:menubar>
	
	</h:form>
	
</html>